{% extends "base.html" %}

{% block script %}
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.sidenav');
        var instances = M.Sidenav.init(elems);
    });
    document.addEventListener('DOMContentLoaded', function() {
      var elems = document.querySelectorAll('select');
      var instances = M.FormSelect.init(elems);
    });
    document.addEventListener('DOMContentLoaded', function() {
      var elems = document.querySelectorAll('.collapsible');
      var instances = M.Collapsible.init(elems);
    });
  </script>
{% endblock %}

{% block profile %}
<ul id="slide-out" class="sidenav">
    <li><div class="user-view">
      <div class="background">
        <img src="{{ url_for('static', filename='img/background.jpg') }}">
      </div>
      {% if current_user.is_authenticated %}
      <a><span class="white-text name">{{current_user.username}}</span></a>
      {% endif %}
      <a><span class="white-text name"><hr></span></a>
    </div></li>
    <li><a class="subheader">Actions</a></li>
    {% if current_user.is_authenticated %}
    <li><a class="waves-effect" href="{{ url_for('logout')}}">Log out</a></li>
    <li><a class="waves-effect" href="{{url_for('profile', _user=current_user.id)}}">View</a></li>
    {% else %}
    <li><a class="waves-effect" href="{{ url_for('login')}}">Log in</a></li>
    {% endif %}
  </ul>
{% endblock %}

{% block titles %}
<li><div data-target="slide-out" class="sidenav-trigger"><a href="#">Profile</a></div></li>
{% endblock %}